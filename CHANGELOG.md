# Changelog

All notable changes to this project will be documented in this file.

## [2.2.3] - 2026-01-20

### Bug Fixes

- Correct setup_logging() usage in generate_apt_auth.py
- Use basic logging instead of infrahouse-core dependency
- Mark test module userdata outputs as sensitive
- Restrict Ubuntu support to noble (24.04 LTS) only
- Update test fixtures to use HTTPS URLs in extra_repos
- Restore test_data/apt_source/main.tf and use separate test_keyid directory
- Update test_manifest.py for puppet-done marker

### Documentation

- Enhance variable documentation with usage context and examples ([#65](https://github.com/infrahouse/terraform-aws-cloud-init/issues/65))
- Implement Terraform Module Requirements ([#79](https://github.com/infrahouse/terraform-aws-cloud-init/issues/79))

### Features

- Add validation rules for environment, role, and ubuntu_codename variables
- Improve generate_apt_auth.py with type hints, docstrings, and error handling
- Mark sensitive variables and outputs appropriately
- Add validation for extra_repos variable
- Add keyid and keyserver support to extra_repos ([#76](https://github.com/infrahouse/terraform-aws-cloud-init/issues/76))
- Add automatic Puppet completion marker file ([#78](https://github.com/infrahouse/terraform-aws-cloud-init/issues/78))

### Miscellaneous Tasks

- Update terraform registry.infrahouse.com/infrahouse/secret/aws to v1.1.1
- Add release targets

### Refactor

- Fix line length violations using HEREDOC syntax ([#64](https://github.com/infrahouse/terraform-aws-cloud-init/issues/64))
- Improve code quality - simplify locals, fix syntax, add comments ([#67](https://github.com/infrahouse/terraform-aws-cloud-init/issues/67))

### Styling

- Format test_generate_apt_auth.py with Black

## [unreleased]

### Bug Fixes

- Correct setup_logging() usage in generate_apt_auth.py
- Use basic logging instead of infrahouse-core dependency
- Mark test module userdata outputs as sensitive
- Restrict Ubuntu support to noble (24.04 LTS) only
- Update test fixtures to use HTTPS URLs in extra_repos
- Restore test_data/apt_source/main.tf and use separate test_keyid directory
- Update test_manifest.py for puppet-done marker

### Documentation

- Enhance variable documentation with usage context and examples ([#65](https://github.com/infrahouse/terraform-aws-cloud-init/issues/65))

### Features

- Add validation rules for environment, role, and ubuntu_codename variables
- Improve generate_apt_auth.py with type hints, docstrings, and error handling
- Mark sensitive variables and outputs appropriately
- Add validation for extra_repos variable
- Add keyid and keyserver support to extra_repos ([#76](https://github.com/infrahouse/terraform-aws-cloud-init/issues/76))
- Add automatic Puppet completion marker file ([#78](https://github.com/infrahouse/terraform-aws-cloud-init/issues/78))

### Miscellaneous Tasks

- Update terraform registry.infrahouse.com/infrahouse/secret/aws to v1.1.1

### Refactor

- Fix line length violations using HEREDOC syntax ([#64](https://github.com/infrahouse/terraform-aws-cloud-init/issues/64))
- Improve code quality - simplify locals, fix syntax, add comments ([#67](https://github.com/infrahouse/terraform-aws-cloud-init/issues/67))

### Styling

- Format test_generate_apt_auth.py with Black

## [1.0.0] - 2023-08-18

<!-- generated by git-cliff -->
